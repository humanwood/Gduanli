<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è‚¡ä¸œ&ç§å‹Ÿå¢å€¼è®¡ç®—å™¨ V2.1</title>
    <style>
        :root {
            --bg: #050a14;
            --card-bg: #111625;
            --primary: #00f2ea;
            --secondary: #2d6cdf;
            --gold: #ffbe0b;
            --up: #00d084;
            --text-main: #ffffff;
            --text-sub: #8b9bb4;
            --border: rgba(255,255,255,0.08);
            --input-bg: #0a0e1a;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif; }
        
        body { background-color: var(--bg); color: var(--text-main); padding: 15px; max-width: 600px; margin: 0 auto; min-height: 100vh; padding-bottom: 50px; }

        header { text-align: center; margin-bottom: 20px; padding: 15px 0; border-bottom: 1px solid var(--border); }
        header h1 { font-size: 22px; font-weight: 800; background: linear-gradient(90deg, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        header p { font-size: 11px; color: var(--text-sub); margin-top: 5px; }

        /* Tabs */
        .tabs { display: flex; background: #1c2236; border-radius: 8px; padding: 4px; margin-bottom: 20px; border: 1px solid var(--border); }
        .tab-btn { flex: 1; text-align: center; padding: 12px; font-size: 14px; color: var(--text-sub); cursor: pointer; border-radius: 6px; transition: 0.3s; font-weight: 600; }
        .tab-btn.active { background: var(--secondary); color: #fff; box-shadow: 0 4px 12px rgba(45, 108, 223, 0.4); }

        .panel { display: none; animation: fadeIn 0.4s ease; }
        .panel.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Card */
        .card { background: var(--card-bg); border-radius: 16px; padding: 20px; margin-bottom: 15px; border: 1px solid var(--border); box-shadow: 0 8px 24px rgba(0,0,0,0.3); position: relative; overflow: hidden; }
        .card::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--secondary); opacity: 0.5; }
        .card-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed rgba(255,255,255,0.1); }
        .card-title { font-size: 15px; font-weight: bold; color: var(--primary); display: flex; align-items: center; gap: 6px; }

        /* Inputs */
        .input-group { margin-bottom: 18px; }
        .label-row { display: flex; justify-content: space-between; font-size: 13px; color: var(--text-sub); margin-bottom: 8px; }
        .input-wrap { position: relative; }
        input[type="number"], select { width: 100%; background: var(--input-bg); border: 1px solid var(--border); color: #fff; padding: 12px; border-radius: 8px; font-size: 16px; font-weight: bold; outline: none; transition: 0.3s; }
        input[type="number"]:focus { border-color: var(--secondary); }
        .unit { position: absolute; right: 12px; top: 13px; font-size: 12px; color: var(--text-sub); pointer-events: none; }

        /* Slider */
        input[type=range] { width: 100%; -webkit-appearance: none; background: transparent; margin-top: 10px; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 20px; width: 20px; border-radius: 50%; background: var(--gold); margin-top: -8px; box-shadow: 0 0 10px rgba(255, 190, 11, 0.5); cursor: pointer; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; background: #333; border-radius: 2px; }

        /* Checkbox Switch */
        .switch-box { display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 15px; cursor: pointer; transition: 0.3s; }
        .switch-box.active { background: rgba(0,242,234,0.1); border-color: rgba(0,242,234,0.3); }
        .switch-label { font-size: 14px; color: #888; font-weight: bold; transition: 0.3s; }
        .switch-box.active .switch-label { color: #fff; }
        .switch-sub { font-size: 11px; color: #666; display: block; margin-top: 2px; transition: 0.3s; }
        .switch-box.active .switch-sub { color: var(--primary); }
        
        .toggle-btn { width: 40px; height: 20px; background: #333; border-radius: 10px; position: relative; transition: 0.3s; }
        .toggle-btn::after { content: ''; position: absolute; left: 2px; top: 2px; width: 16px; height: 16px; background: #666; border-radius: 50%; transition: 0.3s; }
        
        .switch-box.active .toggle-btn { background: var(--primary); }
        .switch-box.active .toggle-btn::after { left: 22px; background: #fff; }

        /* VIP Selector */
        .vip-selector { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 20px; }
        .vip-btn { background: #1c2236; border: 1px solid var(--border); padding: 12px 5px; border-radius: 8px; text-align: center; cursor: pointer; transition: 0.3s; position: relative; }
        .vip-btn.selected { background: rgba(255, 190, 11, 0.15); border-color: var(--gold); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
        .vip-btn .t1 { font-size: 12px; color: var(--text-sub); display: block; }
        .vip-btn .t2 { font-size: 15px; color: #fff; font-weight: bold; display: block; margin-top: 4px; }
        .vip-btn.selected .t2 { color: var(--gold); }

        /* Results */
        .result-block { background: rgba(255,255,255,0.03); border-radius: 8px; padding: 15px; margin-top: 15px; }
        .res-row { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 8px; }
        .res-row:last-child { margin-bottom: 0; }
        .res-lbl { font-size: 12px; color: var(--text-sub); }
        .res-val { font-size: 16px; font-weight: bold; color: #fff; }
        .res-val.highlight { color: var(--gold); font-size: 20px; }
        .res-val.green { color: var(--up); }
        
        .tag { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 10px; background: rgba(255,255,255,0.1); margin-left: 5px; vertical-align: middle; }
        .tag.gold { background: rgba(255,215,0,0.15); color: var(--gold); }
    </style>
</head>
<body>

<header>
    <h1>æ”¶ç›Šè®¡ç®—å™¨ V2.1</h1>
    <p>æ•°å­—èµ„äº§å¢å€¼æ¨æ¼” | è‚¡æƒåˆ†çº¢æµ‹ç®—</p>
</header>

<div class="tabs">
    <div class="tab-btn active" onclick="switchTab('shareholder', this)">ğŸ‘‘ åŸå§‹è‚¡æƒåˆä¼™äºº</div>
    <div class="tab-btn" onclick="switchTab('private', this)">ğŸš€ ç§å‹Ÿåˆä¼™äºº (ç¥¨æ®å¢å€¼)</div>
</div>

<div id="shareholder" class="panel active">
    <div class="card">
        <div class="card-head">
            <span class="card-title">ğŸ’ æŠ•èµ„é…ç½® (æ–¹æ¡ˆA)</span>
            <span class="tag gold">ä»…é™10å¸­</span>
        </div>
        
        <div class="input-group">
            <div class="label-row">
                <span>è®¤è´­ä»½æ•° (20ä¸‡/ä»½)</span>
                <span>1% æ°¸ä¹…åˆ†çº¢æƒ</span>
            </div>
            <div class="input-wrap">
                <input type="number" id="sh_shares" value="1" min="1" max="10" oninput="calcShareholder()">
                <span class="unit">ä»½</span>
            </div>
        </div>

        <div class="input-group">
            <div class="label-row">
                <span>é¢„ä¼°é¡¹ç›®æœˆæµæ°´ (ä¿å®ˆä¼°è®¡)</span>
                <span>5%ç”¨äºä¼˜å…ˆåˆ†çº¢</span>
            </div>
            <div class="input-wrap">
                <input type="number" id="sh_turnover" value="5000000" step="100000" oninput="calcShareholder()">
                <span class="unit">å…ƒ</span>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-head"><span class="card-title">ğŸ“Š æƒç›Šå›æŠ¥åˆ†æ</span></div>
        <div class="result-block">
            <div class="res-row">
                <span class="res-lbl">æŠ•å…¥æœ¬é‡‘</span>
                <span class="res-val" id="sh_principal">Â¥ 200,000</span>
            </div>
            <div class="res-row">
                <span class="res-lbl">è·èµ äº§å“ä»·å€¼ (å«å…¨èº«æŠ—è¡°)</span>
                <span class="res-val green" id="sh_gift_val">Â¥ 638,000</span>
            </div>
            <div style="height:1px; background:#333; margin:10px 0;"></div>
            <div class="res-row">
                <span class="res-lbl">é¢„è®¡æœˆåº¦åˆ†çº¢</span>
                <span class="res-val highlight" id="sh_monthly_div">Â¥ 25,000</span>
            </div>
            <div class="res-row">
                <span class="res-lbl">é¢„è®¡å¹´å›æŠ¥ç‡</span>
                <span class="res-val" id="sh_apy">150%</span>
            </div>
            <div class="res-row">
                <span class="res-lbl">é¢„è®¡å›æœ¬å‘¨æœŸ</span>
                <span class="res-val" id="sh_roi_time">8.0 ä¸ªæœˆ</span>
            </div>
        </div>
    </div>
</div>

<div id="private" class="panel">
    <div class="card">
        <div class="card-head"><span class="card-title">ğŸŒŸ é€‰æ‹©åˆä¼™äººæ¡£ä½</span></div>
        <div class="vip-selector">
            <div class="vip-btn selected" onclick="selectVip(1, this)">
                <span class="t1">VIP 1</span>
                <span class="t2">Â¥ 3,000</span>
            </div>
            <div class="vip-btn" onclick="selectVip(2, this)">
                <span class="t1">VIP 2</span>
                <span class="t2">Â¥ 10,000</span>
            </div>
            <div class="vip-btn" onclick="selectVip(3, this)">
                <span class="t1">VIP 3</span>
                <span class="t2">Â¥ 50,000</span>
            </div>
        </div>

        <div class="switch-box active" id="early_bird_box" onclick="toggleEarlyBird()">
            <div>
                <div class="switch-label">âœ¨ æ—©é¸Ÿä¼˜æƒ æœŸ (2026.2.13å‰)</div>
                <span class="switch-sub">æŒ‰48å…ƒ(6æŠ˜)é…é€æ•°å­—èµ„äº§ | ä¸Šå¸‚ä»·80å…ƒ</span>
            </div>
            <div class="toggle-btn"></div>
        </div>
    </div>

    <div class="card" style="border-color: rgba(255, 190, 11, 0.3);">
        <div class="card-head">
            <span class="card-title" style="color:var(--gold)">ğŸ’° æŒæœ‰èµ„äº§æ˜ç»†</span>
            <span class="tag gold" id="ticket_price_tag">å½“å‰ç¥¨ä»·: 48å…ƒ</span>
        </div>
        <div class="result-block">
            <div class="res-row">
                <span class="res-lbl">æŠ•å…¥èµ„é‡‘</span>
                <span class="res-val" id="pp_invest">Â¥ 3,000</span>
            </div>
            <div class="res-row">
                <span class="res-lbl">è·å¾—ç¥¨æ•° (æ•°å­—èµ„äº§)</span>
                <span class="res-val highlight" id="pp_tickets">62.5 æš</span>
            </div>
            <div class="res-row" style="margin-top:5px">
                <span class="res-lbl">èµ é€å®ç‰©äº§å“ (NAD+)</span>
                <span class="res-val green" id="pp_gift_val">Â¥ 6,000</span>
            </div>
        </div>
        <p style="font-size:10px; color:#666; margin-top:8px; text-align:center;">
            *ç¥¨æ•°è®¡ç®— = æŠ•å…¥èµ„é‡‘ Ã· å½“å‰ç¥¨ä»· (æ—©é¸Ÿ48 / å¸¸è§„80)
        </p>
    </div>

    <div class="card">
        <div class="card-head">
            <span class="card-title">ğŸš€ èµ„äº§å¢å€¼æ¨æ¼”</span>
        </div>
        
        <div class="input-group">
            <div class="label-row">
                <span>é¢„ä¼°æœªæ¥ç¥¨ä»· (åˆšéœ€æ¨åŠ¨)</span>
                <span id="future_price_txt" style="color:var(--primary); font-weight:bold;">120 å…ƒ</span>
            </div>
            <input type="range" id="future_price" min="80" max="500" step="10" value="120" oninput="calcPrivate()">
            <div class="label-row" style="margin-top:5px;">
                <span style="font-size:10px; color:#666;">ä¸Šå¸‚ä»·: 80å…ƒ</span>
                <span style="font-size:10px; color:#666;">ç›®æ ‡ä»·: 500+</span>
            </div>
            <p style="font-size:10px; color:#8b9bb4; margin-top:10px; background:rgba(255,255,255,0.05); padding:8px; border-radius:4px;">
                ğŸ’¡ <strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong>æ‰€æœ‰ç›²ç›’æ¸¸æˆçš„ç‡ƒæ–™è´¹å¿…é¡»é€šè¿‡â€œç¥¨â€å…‘æ¢ã€‚éšç€ç©å®¶å¢åŠ ï¼Œå¯¹ç¥¨çš„æ¶ˆè€—éœ€æ±‚æ¿€å¢ï¼Œä¾›éœ€å…³ç³»å°†æ¨åŠ¨ç¥¨ä»·æŒç»­ä¸Šæ¶¨ã€‚
            </p>
        </div>

        <div class="result-block" style="border: 1px solid rgba(0,242,234,0.2);">
            <div class="res-row">
                <span class="res-lbl">æœªæ¥èµ„äº§æ€»ä»·å€¼</span>
                <span class="res-val highlight" id="future_total_val">Â¥ 7,500</span>
            </div>
            <div class="res-row">
                <span class="res-lbl">çº¯æŠ•èµ„æ”¶ç›Š (ä¸å«äº§å“)</span>
                <span class="res-val green" id="future_profit">+ Â¥ 4,500</span>
            </div>
            <div class="res-row">
                <span class="res-lbl">æŠ•èµ„å›æŠ¥ç‡ (ROI)</span>
                <span class="res-val" id="future_roi">150%</span>
            </div>
        </div>
    </div>
</div>

<script>
    const fmt = n => Math.floor(n).toLocaleString();
    const $ = id => document.getElementById(id);

    /* --- Shareholder Logic --- */
    function calcShareholder() {
        let shares = parseInt($('sh_shares').value) || 0;
        let turnover = parseFloat($('sh_turnover').value) || 0;

        const PRICE_PER_SHARE = 200000;
        const GIFT_VALUE_PER_SHARE = 638000;
        const POOL_RATE = 0.05; 
        const TOTAL_SEATS = 10;

        let principal = shares * PRICE_PER_SHARE;
        let giftValue = shares * GIFT_VALUE_PER_SHARE;
        
        // 5% of turnover divided by 10 seats, multiplied by owned shares
        let monthlyDividend = (turnover * POOL_RATE / TOTAL_SEATS) * shares;
        let yearlyIncome = monthlyDividend * 12;
        
        let roiTime = monthlyDividend > 0 ? (principal / monthlyDividend) : 999;
        let apy = principal > 0 ? (yearlyIncome / principal * 100) : 0;

        $('sh_principal').innerText = "Â¥ " + fmt(principal);
        $('sh_gift_val').innerText = "Â¥ " + fmt(giftValue);
        $('sh_monthly_div').innerText = "Â¥ " + fmt(monthlyDividend);
        $('sh_apy').innerText = apy.toFixed(0) + "%";
        
        if(roiTime > 100) {
            $('sh_roi_time').innerText = "> 100 ä¸ªæœˆ";
        } else {
            $('sh_roi_time').innerText = roiTime.toFixed(1) + " ä¸ªæœˆ";
        }
    }

    /* --- Private Placement Logic --- */
    let currentVip = 1;
    let isEarlyBird = true; // é»˜è®¤å¼€å¯

    const VIP_CONFIG = {
        1: { price: 3000, giftVal: 6000 },
        2: { price: 10000, giftVal: 38000 },
        3: { price: 50000, giftVal: 138000 }
    };

    function selectVip(level, el) {
        currentVip = level;
        document.querySelectorAll('.vip-btn').forEach(b => b.classList.remove('selected'));
        el.classList.add('selected');
        calcPrivate();
    }

    function toggleEarlyBird() {
        isEarlyBird = !isEarlyBird;
        const box = $('early_bird_box');
        
        // æ ¸å¿ƒä¿®å¤ï¼šæ‰‹åŠ¨åˆ‡æ¢ active ç±»åä»¥è§¦å‘ CSS æ ·å¼å˜æ›´
        if (isEarlyBird) {
            box.classList.add('active');
        } else {
            box.classList.remove('active');
        }
        
        calcPrivate();
    }

    function calcPrivate() {
        let cfg = VIP_CONFIG[currentVip];
        let investAmount = cfg.price;
        
        // 1. Determine Ticket Cost Basis
        // ä¸Šå¸‚ä»· 80ï¼Œæ—©é¸Ÿä»· 48 (6æŠ˜)
        let ticketCost = isEarlyBird ? 48 : 80;
        
        // 2. Calculate Tickets Received
        // æŠ•å…¥èµ„é‡‘ / å•ä»· = è·å¾—çš„ç¥¨æ•°
        let ticketCount = investAmount / ticketCost;

        // 3. Get Future Prediction
        let futurePrice = parseFloat($('future_price').value);
        $('future_price_txt').innerText = futurePrice + " å…ƒ";

        // 4. Calculate Future Value
        let totalAssetValue = ticketCount * futurePrice;
        let profit = totalAssetValue - investAmount;
        let roi = (profit / investAmount) * 100;

        // UI Updates
        $('ticket_price_tag').innerText = `é…ç¥¨ä»·: ${ticketCost}å…ƒ`;
        $('pp_invest').innerText = "Â¥ " + fmt(investAmount);
        $('pp_tickets').innerText = ticketCount.toFixed(1) + " æš"; // Keep decimal for precision
        $('pp_gift_val').innerText = "Â¥ " + fmt(cfg.giftVal);

        $('future_total_val').innerText = "Â¥ " + fmt(totalAssetValue);
        $('future_profit').innerText = (profit >= 0 ? "+" : "") + "Â¥ " + fmt(profit);
        $('future_profit').className = profit >= 0 ? "res-val green" : "res-val";
        $('future_roi').innerText = roi.toFixed(0) + "%";
    }

    function switchTab(mode, el) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        $(mode).classList.add('active');
    }

    // Initialize
    calcShareholder();
    calcPrivate();

</script>
</body>
</html>
